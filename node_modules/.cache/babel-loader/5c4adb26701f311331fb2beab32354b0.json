{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\src\\\\pages\\\\Product\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport './product.css';\nimport { axiosService } from '../../service/axios';\nimport Paginator from '../../components/Paginator';\n\nfunction Product(props) {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      products = _useState2[0],\n      setProducts = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mktProducts = _useState4[0],\n      setMktProducts = _useState4[1]; // const [pages, setPages] = useState([]);\n  // const [pagesSegment, setPagesSegment] = useState([]);\n\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sort = _useState6[0],\n      setSort = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 1),\n      page = _useState8[0];\n\n  var _useState9 = useState(1),\n      _useState10 = _slicedToArray(_useState9, 1),\n      size = _useState10[0];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      idProduct = _useState12[0],\n      setIdProduct = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      totalPages = _useState14[0],\n      setTotalPages = _useState14[1];\n\n  useEffect(function () {\n    debugger;\n    loadProducts();\n    loadMktProducts();\n  }, []);\n\n  function loadProducts() {\n    return _loadProducts.apply(this, arguments);\n  }\n\n  function _loadProducts() {\n    _loadProducts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axiosService({\n                url: '/product/find',\n                method: 'GET',\n                params: {\n                  idProduct: '',\n                  page: 0,\n                  size: '0',\n                  sort: '',\n                  sortDirection: ''\n                }\n              });\n\n            case 3:\n              response = _context.sent;\n              console.log(response);\n              setProducts(response.data.response);\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0.message);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n    return _loadProducts.apply(this, arguments);\n  }\n\n  function loadMktProducts() {\n    return _loadMktProducts.apply(this, arguments);\n  }\n\n  function _loadMktProducts() {\n    _loadMktProducts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axiosService({\n                url: '/marketProduct/find',\n                method: 'GET',\n                params: {\n                  idProduct: idProduct,\n                  page: page,\n                  size: size,\n                  sort: sort,\n                  sortDirection: ''\n                }\n              });\n\n            case 3:\n              response = _context2.sent;\n              console.log(response);\n              setMktProducts(response.data.response); // setTotalElements(response.data.totalElements);\n\n              setTotalPages(response.data.totalPages); // let fullPages = response.data.totalPages;\n              // let pages = [];\n              // for(let i = 1; i < fullPages + 1; i++) {\n              //     pages.push(i);\n              // }\n              // setPages(pages)\n\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0.message);\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 9]]);\n    }));\n    return _loadMktProducts.apply(this, arguments);\n  }\n\n  function sortFind(e) {\n    setSort(e.target.value);\n  }\n\n  function productFind(e) {\n    setIdProduct(e.target.value);\n  }\n\n  function find() {\n    console.log(idProduct);\n    console.log(sort);\n  } // function loadPages(pages, totalPages) {\n  //     debugger;\n  //     let pagesThis = [];\n  //     let segment = [];\n  //     let pg = page + 1;\n  //     console.log(totalPages)\n  //     for(let i = 1; i < totalPages + 1; i++) {\n  //         pagesThis.push(i);\n  //     }\n  //     segment = pagesThis.slice(pg-2 >= 0 ? pg-2 : 0, pg+2 <= pagesThis.length ? pg+2 : pagesThis.length);\n  //     setPages(pagesThis);\n  //     setPagesSegment(segment);\n  //     console.log(segment)\n  // }\n  // function changePage(page){\n  //     debugger;\n  //     let segment = [];\n  //     let pagesThis = pages;\n  //     let quantExibPages = 3;\n  //     let init = (page - (quantExibPages-1) >= 0) ? page - (quantExibPages-1) : 0;\n  //     let limit = (init + quantExibPages < pagesThis.length) ? init + quantExibPages : pagesThis.length;\n  //     console.log('pages.length: ' + pagesThis.length)\n  //     console.log(page)\n  //     page = page - 1;\n  //     page = (page > totalPages) ? totalPages-1 : page;\n  //     page = (page <= 0) ? 0 : page;\n  //     segment = pagesThis.slice(init, limit);\n  //     if(limit === pagesThis.length && (limit - quantExibPages) >= 0) {\n  //         segment = pagesThis.slice(limit-quantExibPages, limit);\n  //     }\n  //     setPage(page);     \n  //     setPagesSegment(segment)\n  // }\n  // function leftPage(page) {\n  //     console.log(page);\n  //     if(page - 1 >= 0) {\n  //         let nextPage = page;\n  //         changePage(nextPage)\n  //     }\n  // }\n  // function rightPage(page) {\n  //     console.log(page);\n  //     debugger;\n  //     if(page + 2 > 0 || page + 2 < pages.length) {\n  //         let nextPage = page + 2;\n  //         changePage(nextPage)\n  //     }\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"containerProducts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"titleProducts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, \"Produtos por posto de coleta\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"containerFind\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"containerSelect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    id: \"labelSelectFind\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, \"Produto: \"), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"selectFind\",\n    name: \"idProduct\",\n    value: idProduct,\n    onChange: productFind,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    id: \"selectFindOpt\",\n    key: 0,\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 33\n    }\n  }, \"Selecione...\"), products.map(function (p) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      id: \"selectFindOpt\",\n      key: p.id,\n      value: p.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 33\n      }\n    }, p.product);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"containerSelect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    id: \"labelSelectFind\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, \"Ordem: \"), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"selectFind\",\n    name: \"sort\",\n    value: sort,\n    onChange: sortFind,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    id: \"selectFindOpt\",\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 25\n    }\n  }, \"Selecione...\"), /*#__PURE__*/React.createElement(\"option\", {\n    id: \"selectFindOpt\",\n    value: \"Valor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 25\n    }\n  }, \"Valor\"), /*#__PURE__*/React.createElement(\"option\", {\n    id: \"selectFindOpt\",\n    value: \"Produto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, \"Produto\"), /*#__PURE__*/React.createElement(\"option\", {\n    id: \"selectFindOpt\",\n    value: \"Posto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }, \"Posto de coleta\"))), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"btnFindProduct\",\n    onClick: find,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }, \"Buscar\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"containerTbProducts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    id: \"tbProduct\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    id: \"tbProductTh\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 29\n    }\n  }, \"Produto\"), /*#__PURE__*/React.createElement(\"th\", {\n    id: \"tbProductTh\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 29\n    }\n  }, \"Valor/Kg\"), /*#__PURE__*/React.createElement(\"th\", {\n    id: \"tbProductTh\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 29\n    }\n  }, \"Posto de Coleta\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 21\n    }\n  }, mktProducts.map(function (p, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      id: \"tbProductTr\",\n      style: {\n        'backgroundColor': index % 2 === 0 ? '#F3F6F6' : '#FFF'\n      },\n      key: p.idMktProduct,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      id: \"tbProductTd\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 29\n      }\n    }, p.product), /*#__PURE__*/React.createElement(\"td\", {\n      id: \"tbProductTd\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 29\n      }\n    }, p.value), /*#__PURE__*/React.createElement(\"td\", {\n      id: \"tbProductTdPosto\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 29\n      }\n    }, p.nmFantazy));\n  }))), totalPages !== undefined && /*#__PURE__*/React.createElement(Paginator, {\n    page: page,\n    totalPages: totalPages,\n    lengthPages: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 21\n    }\n  })));\n}\n\nexport default Product;","map":{"version":3,"sources":["C:/Users/juanpapiro/Documents/wspaceweb/mapa-da-reciclagem/src/pages/Product/index.js"],"names":["React","useState","useEffect","axiosService","Paginator","Product","props","products","setProducts","mktProducts","setMktProducts","sort","setSort","page","size","idProduct","setIdProduct","totalPages","setTotalPages","loadProducts","loadMktProducts","url","method","params","sortDirection","response","console","log","data","message","sortFind","e","target","value","productFind","find","map","p","id","product","index","idMktProduct","nmFantazy","undefined"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AAEA,OAAO,eAAP;AACA,SAASC,YAAT,QAA6B,qBAA7B;AACA,OAAOC,SAAP,MAAsB,4BAAtB;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAyB;AAAA;;AAAA,kBAEWL,QAAQ,CAAC,EAAD,CAFnB;AAAA;AAAA,MAEdM,QAFc;AAAA,MAEJC,WAFI;;AAAA,mBAGiBP,QAAQ,CAAC,EAAD,CAHzB;AAAA;AAAA,MAGdQ,WAHc;AAAA,MAGDC,cAHC,kBAIrB;AACA;;;AALqB,mBAMGT,QAAQ,EANX;AAAA;AAAA,MAMdU,IANc;AAAA,MAMRC,OANQ;;AAAA,mBAONX,QAAQ,CAAC,CAAD,CAPF;AAAA;AAAA,MAOdY,IAPc;;AAAA,mBAQNZ,QAAQ,CAAC,CAAD,CARF;AAAA;AAAA,MAQda,IARc;;AAAA,oBASab,QAAQ,EATrB;AAAA;AAAA,MASdc,SATc;AAAA,MASHC,YATG;;AAAA,oBAUef,QAAQ,EAVvB;AAAA;AAAA,MAUdgB,UAVc;AAAA,MAUFC,aAVE;;AAarBhB,EAAAA,SAAS,CAAC,YAAM;AACZ;AACDiB,IAAAA,YAAY;AACZC,IAAAA,eAAe;AACjB,GAJQ,EAIP,EAJO,CAAT;;AAbqB,WAqBND,YArBM;AAAA;AAAA;;AAAA;AAAA,6EAqBrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAE+BhB,YAAY,CAAC;AAChCkB,gBAAAA,GAAG,EAAE,eAD2B;AAEhCC,gBAAAA,MAAM,EAAC,KAFyB;AAGhCC,gBAAAA,MAAM,EAAE;AACJR,kBAAAA,SAAS,EAAE,EADP;AAEJF,kBAAAA,IAAI,EAAE,CAFF;AAGJC,kBAAAA,IAAI,EAAE,GAHF;AAIJH,kBAAAA,IAAI,EAAE,EAJF;AAKJa,kBAAAA,aAAa,EAAE;AALX;AAHwB,eAAD,CAF3C;;AAAA;AAEcC,cAAAA,QAFd;AAaQC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAjB,cAAAA,WAAW,CAACiB,QAAQ,CAACG,IAAT,CAAcH,QAAf,CAAX;AAdR;AAAA;;AAAA;AAAA;AAAA;AAgBQC,cAAAA,OAAO,CAACC,GAAR,CAAY,YAAME,OAAlB;;AAhBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KArBqB;AAAA;AAAA;;AAAA,WAyCNT,eAzCM;AAAA;AAAA;;AAAA;AAAA,gFAyCrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAE+BjB,YAAY,CAAC;AAChCkB,gBAAAA,GAAG,EAAE,qBAD2B;AACJC,gBAAAA,MAAM,EAAC,KADH;AAEhCC,gBAAAA,MAAM,EAAE;AACJR,kBAAAA,SAAS,EAAEA,SADP;AAEJF,kBAAAA,IAAI,EAAEA,IAFF;AAGJC,kBAAAA,IAAI,EAAEA,IAHF;AAIJH,kBAAAA,IAAI,EAAEA,IAJF;AAKJa,kBAAAA,aAAa,EAAE;AALX;AAFwB,eAAD,CAF3C;;AAAA;AAEcC,cAAAA,QAFd;AAYQC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAf,cAAAA,cAAc,CAACe,QAAQ,CAACG,IAAT,CAAcH,QAAf,CAAd,CAbR,CAcQ;;AACAP,cAAAA,aAAa,CAACO,QAAQ,CAACG,IAAT,CAAcX,UAAf,CAAb,CAfR,CAgBQ;AACA;AACA;AACA;AACA;AACA;;AArBR;AAAA;;AAAA;AAAA;AAAA;AAuBQS,cAAAA,OAAO,CAACC,GAAR,CAAY,aAAME,OAAlB;;AAvBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAzCqB;AAAA;AAAA;;AAoErB,WAASC,QAAT,CAAkBC,CAAlB,EAAqB;AACjBnB,IAAAA,OAAO,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AACH;;AAED,WAASC,WAAT,CAAqBH,CAArB,EAAwB;AACpBf,IAAAA,YAAY,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ;AACH;;AAED,WAASE,IAAT,GAAgB;AACZT,IAAAA,OAAO,CAACC,GAAR,CAAYZ,SAAZ;AACAW,IAAAA,OAAO,CAACC,GAAR,CAAYhB,IAAZ;AACH,GA/EoB,CAiFrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAKA,sBACI;AAAK,IAAA,EAAE,EAAC,mBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,EAAE,EAAC,eAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADJ,eAEI;AAAK,IAAA,EAAE,EAAC,eAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,EAAE,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,eAEI;AAAQ,IAAA,EAAE,EAAC,YAAX;AAAwB,IAAA,IAAI,EAAC,WAA7B;AAAyC,IAAA,KAAK,EAAEI,SAAhD;AAA2D,IAAA,QAAQ,EAAEmB,WAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACY;AAAQ,IAAA,EAAE,EAAC,eAAX;AAA2B,IAAA,GAAG,EAAE,CAAhC;AAAmC,IAAA,KAAK,EAAC,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADZ,EAEK3B,QAAQ,CAAC6B,GAAT,CAAa,UAACC,CAAD,EAAO;AACjB,wBACI;AAAQ,MAAA,EAAE,EAAC,eAAX;AAA2B,MAAA,GAAG,EAAEA,CAAC,CAACC,EAAlC;AAAsC,MAAA,KAAK,EAAED,CAAC,CAACC,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoDD,CAAC,CAACE,OAAtD,CADJ;AAGH,GAJA,CAFL,CAFJ,CADJ,eAYI;AAAK,IAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,EAAE,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAEI;AAAQ,IAAA,EAAE,EAAC,YAAX;AAAwB,IAAA,IAAI,EAAC,MAA7B;AAAoC,IAAA,KAAK,EAAE5B,IAA3C;AAAiD,IAAA,QAAQ,EAAEmB,QAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,EAAE,EAAC,eAAX;AAA2B,IAAA,KAAK,EAAC,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAQ,IAAA,EAAE,EAAC,eAAX;AAA2B,IAAA,KAAK,EAAC,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,eAGI;AAAQ,IAAA,EAAE,EAAC,eAAX;AAA2B,IAAA,KAAK,EAAC,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHJ,eAII;AAAQ,IAAA,EAAE,EAAC,eAAX;AAA2B,IAAA,KAAK,EAAC,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAJJ,CAFJ,CAZJ,eAqBI;AAAQ,IAAA,EAAE,EAAC,gBAAX;AAA4B,IAAA,OAAO,EAAEK,IAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cArBJ,CAFJ,eAyBI;AAAK,IAAA,EAAE,EAAC,qBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,EAAE,EAAC,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,EAAE,EAAC,aAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAEI;AAAI,IAAA,EAAE,EAAC,aAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAI,IAAA,EAAE,EAAC,aAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHJ,CADJ,CADJ,eAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC1B,WAAW,CAAC2B,GAAZ,CAAgB,UAACC,CAAD,EAAIG,KAAJ,EAAc;AAC3B,wBACA;AAAI,MAAA,EAAE,EAAC,aAAP;AAAqB,MAAA,KAAK,EAAE;AAAC,2BAAoBA,KAAK,GAAG,CAAR,KAAc,CAAf,GAAqB,SAArB,GAAiC;AAArD,OAA5B;AAA0F,MAAA,GAAG,EAAEH,CAAC,CAACI,YAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,EAAE,EAAC,aAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsBJ,CAAC,CAACE,OAAxB,CADJ,eAEI;AAAI,MAAA,EAAE,EAAC,aAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsBF,CAAC,CAACJ,KAAxB,CAFJ,eAGI;AAAI,MAAA,EAAE,EAAC,kBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2BI,CAAC,CAACK,SAA7B,CAHJ,CADA;AAOH,GARA,CADD,CARJ,CADJ,EAuCKzB,UAAU,KAAK0B,SAAf,iBACG,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAE9B,IAAjB;AAAuB,IAAA,UAAU,EAAEI,UAAnC;AAA+C,IAAA,WAAW,EAAE,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxCR,CAzBJ,CADJ;AA0EH;;AACD,eAAeZ,OAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\r\n\r\nimport './product.css';\r\nimport { axiosService } from '../../service/axios';\r\nimport Paginator from '../../components/Paginator';\r\n\r\nfunction Product(props)  {\r\n    \r\n    const [products, setProducts] = useState([]);\r\n    const [mktProducts, setMktProducts] = useState([]);\r\n    // const [pages, setPages] = useState([]);\r\n    // const [pagesSegment, setPagesSegment] = useState([]);\r\n    const [sort, setSort] = useState();\r\n    const [page] = useState(0);\r\n    const [size] = useState(1);\r\n    const [idProduct, setIdProduct] = useState();\r\n    const [totalPages, setTotalPages] = useState();\r\n        \r\n\r\n    useEffect(() => {\r\n        debugger;\r\n       loadProducts();\r\n       loadMktProducts();\r\n    },[]);\r\n\r\n\r\n\r\n    async function loadProducts() {\r\n        try {\r\n            const response = await axiosService({\r\n                url: '/product/find',\r\n                method:'GET',\r\n                params: {\r\n                    idProduct: '',\r\n                    page: 0,\r\n                    size: '0',\r\n                    sort: '',\r\n                    sortDirection: ''\r\n                }\r\n            })\r\n            console.log(response);\r\n            setProducts(response.data.response);\r\n        } catch (error) {\r\n            console.log(error.message);\r\n        }\r\n    }\r\n\r\n    async function loadMktProducts(){\r\n        try {\r\n            const response = await axiosService({\r\n                url: '/marketProduct/find', method:'GET',\r\n                params: {\r\n                    idProduct: idProduct,\r\n                    page: page,\r\n                    size: size,\r\n                    sort: sort,\r\n                    sortDirection: ''\r\n                }\r\n            })\r\n            console.log(response)\r\n            setMktProducts(response.data.response);\r\n            // setTotalElements(response.data.totalElements);\r\n            setTotalPages(response.data.totalPages);\r\n            // let fullPages = response.data.totalPages;\r\n            // let pages = [];\r\n            // for(let i = 1; i < fullPages + 1; i++) {\r\n            //     pages.push(i);\r\n            // }\r\n            // setPages(pages)\r\n        } catch (error) {\r\n            console.log(error.message);\r\n        }\r\n    }\r\n\r\n    function sortFind(e) {\r\n        setSort(e.target.value)\r\n    }\r\n\r\n    function productFind(e) {\r\n        setIdProduct(e.target.value)\r\n    }\r\n\r\n    function find() {\r\n        console.log(idProduct);\r\n        console.log(sort);\r\n    }\r\n\r\n    // function loadPages(pages, totalPages) {\r\n    //     debugger;\r\n    //     let pagesThis = [];\r\n    //     let segment = [];\r\n    //     let pg = page + 1;\r\n    //     console.log(totalPages)\r\n    //     for(let i = 1; i < totalPages + 1; i++) {\r\n    //         pagesThis.push(i);\r\n    //     }\r\n\r\n    //     segment = pagesThis.slice(pg-2 >= 0 ? pg-2 : 0, pg+2 <= pagesThis.length ? pg+2 : pagesThis.length);\r\n        \r\n    //     setPages(pagesThis);\r\n    //     setPagesSegment(segment);\r\n    //     console.log(segment)\r\n\r\n    // }\r\n\r\n    // function changePage(page){\r\n    //     debugger;\r\n    //     let segment = [];\r\n    //     let pagesThis = pages;\r\n    //     let quantExibPages = 3;\r\n    //     let init = (page - (quantExibPages-1) >= 0) ? page - (quantExibPages-1) : 0;\r\n    //     let limit = (init + quantExibPages < pagesThis.length) ? init + quantExibPages : pagesThis.length;\r\n    //     console.log('pages.length: ' + pagesThis.length)\r\n    //     console.log(page)\r\n    //     page = page - 1;\r\n    //     page = (page > totalPages) ? totalPages-1 : page;\r\n    //     page = (page <= 0) ? 0 : page;\r\n    //     segment = pagesThis.slice(init, limit);\r\n    //     if(limit === pagesThis.length && (limit - quantExibPages) >= 0) {\r\n    //         segment = pagesThis.slice(limit-quantExibPages, limit);\r\n    //     }\r\n    //     setPage(page);     \r\n    //     setPagesSegment(segment)\r\n    // }\r\n\r\n    // function leftPage(page) {\r\n    //     console.log(page);\r\n    //     if(page - 1 >= 0) {\r\n    //         let nextPage = page;\r\n    //         changePage(nextPage)\r\n    //     }\r\n    // }\r\n\r\n    // function rightPage(page) {\r\n    //     console.log(page);\r\n    //     debugger;\r\n    //     if(page + 2 > 0 || page + 2 < pages.length) {\r\n    //         let nextPage = page + 2;\r\n    //         changePage(nextPage)\r\n    //     }\r\n    // }\r\n\r\n \r\n       \r\n\r\n    return(\r\n        <div id='containerProducts'>\r\n            <div id='titleProducts'>Produtos por posto de coleta</div>\r\n            <div id='containerFind'>\r\n                <div id='containerSelect'>\r\n                    <label id='labelSelectFind'>Produto: </label>\r\n                    <select id='selectFind' name='idProduct' value={idProduct} onChange={productFind}>\r\n                                <option id='selectFindOpt' key={0} value=''>Selecione...</option>\r\n                        {products.map((p) => {\r\n                            return(\r\n                                <option id='selectFindOpt' key={p.id} value={p.id}>{p.product}</option>\r\n                            )\r\n                        })}\r\n                    </select>\r\n                </div>\r\n                <div id='containerSelect'>\r\n                    <label id='labelSelectFind'>Ordem: </label>\r\n                    <select id='selectFind' name='sort' value={sort} onChange={sortFind}>\r\n                        <option id='selectFindOpt' value=''>Selecione...</option>\r\n                        <option id='selectFindOpt' value='Valor'>Valor</option> \r\n                        <option id='selectFindOpt' value='Produto'>Produto</option>\r\n                        <option id='selectFindOpt' value='Posto'>Posto de coleta</option>\r\n                    </select>\r\n                </div>\r\n                <button id='btnFindProduct' onClick={find}>Buscar</button>\r\n            </div>\r\n            <div id='containerTbProducts'>\r\n                <table id='tbProduct'>\r\n                    <thead>\r\n                        <tr>\r\n                            <th id='tbProductTh'>Produto</th>\r\n                            <th id='tbProductTh'>Valor/Kg</th>\r\n                            <th id='tbProductTh'>Posto de Coleta</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {mktProducts.map((p, index) => { \r\n                        return(\r\n                        <tr id='tbProductTr' style={{'backgroundColor': (index % 2 === 0) ?  '#F3F6F6' : '#FFF'}} key={p.idMktProduct}>\r\n                            <td id='tbProductTd'>{p.product}</td>\r\n                            <td id='tbProductTd'>{p.value}</td>\r\n                            <td id='tbProductTdPosto'>{p.nmFantazy}</td>\r\n                        </tr>\r\n                        ); \r\n                    },)}\r\n                    </tbody>\r\n                </table>\r\n                {/* <div id='paginator'>\r\n                    <div id='div-arrow-left'> {(page <= 0) ?\r\n                        <img src={require('../../assets/imgs/seta-left-opac.svg')} alt='seta-left' /> :\r\n                        <img src={require('../../assets/imgs/seta-left.svg')} alt='seta-left'\r\n                                    onClick={() => leftPage(page)}/>}\r\n                    </div>\r\n                        <div id='numbersPages'>{pagesSegment.map((p) => {\r\n                            return(<div key={p} id='numPage' onClick={() => changePage(p)}\r\n                                style={{backgroundColor: (p === page + 1) ?\r\n                                '#DDD': 'transparent'}}>{p}\r\n                                </div>)})}\r\n                        </div>\r\n                    <div id='div-arrow-right'>{(page + 1 >= totalPages) ?\r\n                        <img src={require('../../assets/imgs/seta-right-opac.svg')} alt='seta-right' /> :\r\n                        <img src={require('../../assets/imgs/seta-right.svg')} alt='seta-right'\r\n                                    onClick={() => rightPage(page)}/>}\r\n                    </div>\r\n                </div> */}\r\n                {totalPages !== undefined &&\r\n                    <Paginator page={page} totalPages={totalPages} lengthPages={3}/>\r\n                }\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n       \r\n    \r\n}\r\nexport default Product;"]},"metadata":{},"sourceType":"module"}