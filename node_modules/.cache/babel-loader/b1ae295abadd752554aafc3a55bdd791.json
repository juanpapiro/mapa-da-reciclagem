{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\src\\\\pages\\\\Product\\\\index.js\";\nimport React, { Component } from 'react';\nimport './product.css';\nimport { axiosService } from '../../service/axios';\n\nvar Product = /*#__PURE__*/function (_Component) {\n  _inherits(Product, _Component);\n\n  function Product(props) {\n    var _this;\n\n    _classCallCheck(this, Product);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Product).call(this));\n    _this.state = {\n      products: [],\n      mktProducts: [],\n      pages: [],\n      pagesSegment: [],\n      sort: '',\n      page: 0,\n      size: 1,\n      idProduct: 0,\n      totalPages: '',\n      totalElements: '',\n      conuntLinesTable: 0\n    };\n    _this.loadProducts = _this.loadProducts.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.loadMktProducts = _this.loadMktProducts.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.sortFind = _this.sortFind.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.productFind = _this.productFind.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.find = _this.find.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.loadPages = _this.loadPages.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changePage = _this.changePage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Product, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadProducts();\n      this.loadMktProducts();\n    }\n  }, {\n    key: \"loadProducts\",\n    value: function () {\n      var _loadProducts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axiosService({\n                  url: '/product/find',\n                  method: 'GET',\n                  params: {\n                    idProduct: '',\n                    page: 0,\n                    size: '0',\n                    sort: '',\n                    sortDirection: ''\n                  }\n                });\n\n              case 3:\n                response = _context.sent;\n                console.log(response);\n                this.setState({\n                  products: response.data.response\n                });\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0.message);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      function loadProducts() {\n        return _loadProducts.apply(this, arguments);\n      }\n\n      return loadProducts;\n    }()\n  }, {\n    key: \"loadMktProducts\",\n    value: function () {\n      var _loadMktProducts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return axiosService({\n                  url: '/marketProduct/find',\n                  method: 'GET',\n                  params: {\n                    idProduct: this.state.idProduct,\n                    page: this.state.page,\n                    size: this.state.size,\n                    sort: this.state.sort,\n                    sortDirection: ''\n                  }\n                });\n\n              case 3:\n                response = _context2.sent;\n                console.log(response);\n                this.setState({\n                  mktProducts: response.data.response\n                });\n                this.setState({\n                  totalElements: response.data.totalElements\n                });\n                this.setState({\n                  totalPages: response.data.totalPages\n                });\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0.message);\n\n              case 13:\n                this.loadPages();\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 10]]);\n      }));\n\n      function loadMktProducts() {\n        return _loadMktProducts.apply(this, arguments);\n      }\n\n      return loadMktProducts;\n    }()\n  }, {\n    key: \"sortFind\",\n    value: function sortFind(e) {\n      this.setState({\n        sort: e.target.value\n      });\n    }\n  }, {\n    key: \"productFind\",\n    value: function productFind(e) {\n      this.setState({\n        idProduct: e.target.value\n      });\n    }\n  }, {\n    key: \"find\",\n    value: function find() {\n      console.log(this.state.idProduct);\n      console.log(this.state.sort);\n    }\n  }, {\n    key: \"loadPages\",\n    value: function loadPages() {\n      debugger;\n      var pages = [];\n      var pg = this.state.page + 1;\n\n      for (var i = 1; i < this.state.totalPages + 1; i++) {\n        pages.push(i);\n      }\n\n      this.setState({\n        pages: pages.slice(pg - 2 >= 0 ? pg - 2 : 0, pg + 2 <= pages.length ? pg + 2 : pages.length)\n      });\n      console.log(pages.slice(pg - 3 >= 0 ? pg - 3 : 0, pg + 3 <= pages.length ? pg + 3 : pages.length));\n      console.log(pages.length);\n    }\n  }, {\n    key: \"changePage\",\n    value: function changePage(page) {\n      page = page >= this.state.totalPages ? this.state.totalPages - 1 : page;\n      page = page <= 0 ? 0 : page;\n      this.setState({\n        page: page\n      });\n      console.log(this.state.page);\n      console.log(page);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: \"containerProducts\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"titleProducts\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }\n      }, \"Produtos por posto de coleta\"), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"containerFind\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"containerSelect\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        id: \"labelSelectFind\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 25\n        }\n      }, \"Produto: \"), /*#__PURE__*/React.createElement(\"select\", {\n        id: \"selectFind\",\n        name: \"idProduct\",\n        value: this.state.idProduct,\n        onChange: this.productFind,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        id: \"selectFindOpt\",\n        key: 0,\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 37\n        }\n      }, \"Selecione...\"), this.state.products.map(function (p) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          id: \"selectFindOpt\",\n          key: p.id,\n          value: p.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 37\n          }\n        }, p.product);\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"containerSelect\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        id: \"labelSelectFind\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 25\n        }\n      }, \"Ordem: \"), /*#__PURE__*/React.createElement(\"select\", {\n        id: \"selectFind\",\n        name: \"sort\",\n        value: this.state.sort,\n        onChange: this.sortFind,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        id: \"selectFindOpt\",\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 29\n        }\n      }, \"Selecione...\"), /*#__PURE__*/React.createElement(\"option\", {\n        id: \"selectFindOpt\",\n        value: \"Valor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 29\n        }\n      }, \"Valor\"), /*#__PURE__*/React.createElement(\"option\", {\n        id: \"selectFindOpt\",\n        value: \"Produto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 29\n        }\n      }, \"Produto\"), /*#__PURE__*/React.createElement(\"option\", {\n        id: \"selectFindOpt\",\n        value: \"Posto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 29\n        }\n      }, \"Posto de coleta\"))), /*#__PURE__*/React.createElement(\"button\", {\n        id: \"btnFindProduct\",\n        onClick: this.find,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }\n      }, \"Buscar\")), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"containerTbProducts\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        id: \"tbProduct\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        id: \"tbProductTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 33\n        }\n      }, \"Produto\"), /*#__PURE__*/React.createElement(\"th\", {\n        id: \"tbProductTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 33\n        }\n      }, \"Valor/Kg\"), /*#__PURE__*/React.createElement(\"th\", {\n        id: \"tbProductTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 33\n        }\n      }, \"Posto de Coleta\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }\n      }, this.state.mktProducts.map(function (p, index) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          id: \"tbProductTr\",\n          style: {\n            'backgroundColor': index % 2 === 0 ? '#F3F6F6' : '#FFF'\n          },\n          key: p.idMktProduct,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          id: \"tbProductTd\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 33\n          }\n        }, p.product), /*#__PURE__*/React.createElement(\"td\", {\n          id: \"tbProductTd\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 33\n          }\n        }, p.value), /*#__PURE__*/React.createElement(\"td\", {\n          id: \"tbProductTdPosto\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 33\n          }\n        }, p.nmFantazy));\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"paginator\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"div-arrow-left\",\n        onClick: function onClick() {\n          return _this2.changePage(_this2.state.page - 1);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.page <= 0 ? require('../../assets/imgs/seta-left-opac.svg') : require('../../assets/imgs/seta-left.svg'),\n        alt: \"seta-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"numbersPages\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 29\n        }\n      }, this.state.pages.map(function (p) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: p,\n          id: \"numPage\",\n          onClick: function onClick() {\n            return _this2.changePage(p - 1);\n          },\n          style: {\n            backgroundColor: p === _this2.state.page + 1 ? '#DDD' : 'transparent'\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 40\n          }\n        }, p);\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"div-arrow-right\",\n        onClick: function onClick() {\n          return _this2.changePage(_this2.state.page + 1);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.page + 1 >= this.state.totalPages ? require('../../assets/imgs/seta-right-opac.svg') : require('../../assets/imgs/seta-right.svg'),\n        alt: \"seta-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 29\n        }\n      })))));\n    }\n  }]);\n\n  return Product;\n}(Component);\n\nexport default Product;","map":{"version":3,"sources":["C:/Users/juanpapiro/Documents/wspaceweb/mapa-da-reciclagem/src/pages/Product/index.js"],"names":["React","Component","axiosService","Product","props","state","products","mktProducts","pages","pagesSegment","sort","page","size","idProduct","totalPages","totalElements","conuntLinesTable","loadProducts","bind","loadMktProducts","sortFind","productFind","find","loadPages","changePage","url","method","params","sortDirection","response","console","log","setState","data","message","e","target","value","pg","i","push","slice","length","map","p","id","product","index","idMktProduct","nmFantazy","require","backgroundColor"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\n\r\nimport './product.css';\r\nimport { axiosService } from '../../service/axios';\r\n\r\nclass Product extends Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = {\r\n            products:[],\r\n            mktProducts:[],\r\n            pages:[],\r\n            pagesSegment:[],\r\n            sort: '',\r\n            page: 0,\r\n            size: 1,\r\n            idProduct: 0,\r\n            totalPages: '',\r\n            totalElements: '',\r\n            conuntLinesTable: 0,\r\n        }\r\n        this.loadProducts = this.loadProducts.bind(this);\r\n        this.loadMktProducts = this.loadMktProducts.bind(this);\r\n        this.sortFind = this.sortFind.bind(this);\r\n        this.productFind = this.productFind.bind(this);\r\n        this.find = this.find.bind(this);\r\n        this.loadPages = this.loadPages.bind(this);\r\n        this.changePage = this.changePage.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n       this.loadProducts();\r\n       this.loadMktProducts();\r\n    }\r\n\r\n    async loadProducts() {\r\n        try {\r\n            const response = await axiosService({\r\n                url: '/product/find',\r\n                method:'GET',\r\n                params: {\r\n                    idProduct: '',\r\n                    page: 0,\r\n                    size: '0',\r\n                    sort: '',\r\n                    sortDirection: ''\r\n                }\r\n            })\r\n            console.log(response);\r\n            this.setState({products: response.data.response});\r\n        } catch (error) {\r\n            console.log(error.message);\r\n        }\r\n    }\r\n\r\n    async loadMktProducts(){\r\n        try {\r\n            const response = await axiosService({\r\n                url: '/marketProduct/find', method:'GET',\r\n                params: {\r\n                    idProduct: this.state.idProduct,\r\n                    page: this.state.page,\r\n                    size: this.state.size,\r\n                    sort: this.state.sort,\r\n                    sortDirection: ''\r\n                }\r\n            })\r\n            console.log(response)\r\n            this.setState({mktProducts: response.data.response});\r\n            this.setState({totalElements: response.data.totalElements});\r\n            this.setState({totalPages: response.data.totalPages});\r\n        } catch (error) {\r\n            console.log(error.message);\r\n        }\r\n        this.loadPages();\r\n    }\r\n\r\n    sortFind(e) {\r\n        this.setState({sort: e.target.value})\r\n    }\r\n\r\n    productFind(e) {\r\n        this.setState({idProduct: e.target.value})\r\n    }\r\n\r\n    find() {\r\n        console.log(this.state.idProduct);\r\n        console.log(this.state.sort);\r\n    }\r\n\r\n    loadPages() {\r\n        debugger;\r\n        let pages = [];\r\n        let pg = this.state.page + 1;\r\n        for(let i = 1; i < this.state.totalPages + 1; i++) {\r\n            pages.push(i);\r\n        }\r\n        this.setState({pages: pages.slice(pg-2 >= 0 ? pg-2 : 0, pg+2 <= pages.length ? pg+2 : pages.length)})\r\n        console.log(pages.slice(pg-3 >= 0 ? pg-3 : 0, pg+3 <= pages.length ? pg+3 : pages.length))\r\n        console.log(pages.length)\r\n    }\r\n\r\n    changePage(page){\r\n        page = (page >= this.state.totalPages) ? this.state.totalPages-1 : page;\r\n        page = (page <= 0) ? 0 : page;\r\n        this.setState({page: page});\r\n        console.log(this.state.page)\r\n        console.log(page)\r\n    }\r\n\r\n    render(){\r\n       \r\n        return(\r\n            <div id='containerProducts'>\r\n                <div id='titleProducts'>Produtos por posto de coleta</div>\r\n                <div id='containerFind'>\r\n                    <div id='containerSelect'>\r\n                        <label id='labelSelectFind'>Produto: </label>\r\n                        <select id='selectFind' name='idProduct' value={this.state.idProduct} onChange={this.productFind}>\r\n                                    <option id='selectFindOpt' key={0} value=''>Selecione...</option>\r\n                            {this.state.products.map((p) => {\r\n                                return(\r\n                                    <option id='selectFindOpt' key={p.id} value={p.id}>{p.product}</option>\r\n                                )\r\n                            })}\r\n                        </select>\r\n                    </div>\r\n                    <div id='containerSelect'>\r\n                        <label id='labelSelectFind'>Ordem: </label>\r\n                        <select id='selectFind' name='sort' value={this.state.sort} onChange={this.sortFind}>\r\n                            <option id='selectFindOpt' value=''>Selecione...</option>\r\n                            <option id='selectFindOpt' value='Valor'>Valor</option> \r\n                            <option id='selectFindOpt' value='Produto'>Produto</option>\r\n                            <option id='selectFindOpt' value='Posto'>Posto de coleta</option>\r\n                        </select>\r\n                    </div>\r\n                    <button id='btnFindProduct' onClick={this.find}>Buscar</button>\r\n                </div>\r\n                <div id='containerTbProducts'>\r\n                    <table id='tbProduct'>\r\n                        <thead>\r\n                            <tr>\r\n                                <th id='tbProductTh'>Produto</th>\r\n                                <th id='tbProductTh'>Valor/Kg</th>\r\n                                <th id='tbProductTh'>Posto de Coleta</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {this.state.mktProducts.map((p, index) => { \r\n                            return(\r\n                            <tr id='tbProductTr' style={{'backgroundColor': (index % 2 === 0) ?  '#F3F6F6' : '#FFF'}} key={p.idMktProduct}>\r\n                                <td id='tbProductTd'>{p.product}</td>\r\n                                <td id='tbProductTd'>{p.value}</td>\r\n                                <td id='tbProductTdPosto'>{p.nmFantazy}</td>\r\n                            </tr>\r\n                             ); \r\n                        },)}\r\n                        </tbody>\r\n                    </table>\r\n                    <div id='paginator'>\r\n                        <div id='div-arrow-left' onClick={() => this.changePage(this.state.page - 1)}> \r\n                            <img src={(this.state.page <= 0) ?\r\n                                       require('../../assets/imgs/seta-left-opac.svg') :\r\n                                       require('../../assets/imgs/seta-left.svg')} alt='seta-left'/>\r\n                        </div>\r\n                            <div id='numbersPages'>{this.state.pages.map((p) => {\r\n                                return(<div key={p} id='numPage' onClick={() => this.changePage(p - 1)}\r\n                                   style={{backgroundColor: (p === this.state.page + 1) ?\r\n                                   '#DDD': 'transparent'}}>{p}\r\n                                   </div>)})}\r\n                            </div>\r\n                        <div id='div-arrow-right' onClick={() => this.changePage(this.state.page + 1)}>\r\n                            <img src={(this.state.page + 1 >= this.state.totalPages) ?\r\n                                        require('../../assets/imgs/seta-right-opac.svg') :\r\n                                        require('../../assets/imgs/seta-right.svg')} alt='seta-right'/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Product;"]},"metadata":{},"sourceType":"module"}