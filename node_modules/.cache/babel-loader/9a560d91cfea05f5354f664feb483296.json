{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\src\\\\pages\\\\Admin\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport { axiosService } from '../../service/axios';\n\nfunction Admin() {\n  var _useState = useState({\n    idUser: '',\n    email: '',\n    token: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  useEffect(function () {\n    findUser();\n  }, []);\n\n  function findUser() {\n    var user = {\n      idUser: localStorage.getItem('idUser'),\n      email: localStorage.getItem('email'),\n      token: localStorage.getItem('token')\n    };\n    setUser({\n      user: user\n    });\n    findStationToUser(user);\n  }\n\n  function findStationToUser(_x) {\n    return _findStationToUser.apply(this, arguments);\n  }\n\n  function _findStationToUser() {\n    _findStationToUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(user) {\n      var _this = this;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              debugger;\n              _context.next = 3;\n              return axiosService({\n                method: 'GET',\n                url: '/stations/find',\n                params: {\n                  email: 'user.email',\n                  page: 0,\n                  size: 1\n                }\n              }).then(function (response) {\n                console.log(response);\n              }).catch(function (error) {\n                if (error.message.includes('404')) {\n                  _this.props.history.push('/cadastrar');\n                }\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _findStationToUser.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, user.email);\n}\n\nexport default Admin;","map":{"version":3,"sources":["C:/Users/juanpapiro/Documents/wspaceweb/mapa-da-reciclagem/src/pages/Admin/index.js"],"names":["React","useEffect","useState","axiosService","Admin","idUser","email","token","user","setUser","findUser","localStorage","getItem","findStationToUser","method","url","params","page","size","then","response","console","log","catch","error","message","includes","props","history","push"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AAEA,SAASC,YAAT,QAA6B,qBAA7B;;AAEA,SAASC,KAAT,GAAiB;AAAA,kBAGWF,QAAQ,CAAC;AAC7BG,IAAAA,MAAM,EAAC,EADsB;AAClBC,IAAAA,KAAK,EAAC,EADY;AACRC,IAAAA,KAAK,EAAC;AADE,GAAD,CAHnB;AAAA;AAAA,MAGNC,IAHM;AAAA,MAGAC,OAHA;;AAObR,EAAAA,SAAS,CAAC,YAAM;AACZS,IAAAA,QAAQ;AACX,GAFQ,EAEN,EAFM,CAAT;;AAIA,WAASA,QAAT,GAAoB;AAChB,QAAIF,IAAI,GAAG;AACPH,MAAAA,MAAM,EAAEM,YAAY,CAACC,OAAb,CAAqB,QAArB,CADD;AAEPN,MAAAA,KAAK,EAAEK,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFA;AAGPL,MAAAA,KAAK,EAAEI,YAAY,CAACC,OAAb,CAAqB,OAArB;AAHA,KAAX;AAKAH,IAAAA,OAAO,CAAC;AAACD,MAAAA,IAAI,EAAJA;AAAD,KAAD,CAAP;AACAK,IAAAA,iBAAiB,CAACL,IAAD,CAAjB;AACH;;AAnBY,WAqBEK,iBArBF;AAAA;AAAA;;AAAA;AAAA,kFAqBb,iBAAiCL,IAAjC;AAAA;;AAAA;AAAA;AAAA;AAAA;AACI;AADJ;AAAA,qBAEUL,YAAY,CAAC;AACfW,gBAAAA,MAAM,EAAE,KADO;AAEfC,gBAAAA,GAAG,EAAC,gBAFW;AAGfC,gBAAAA,MAAM,EAAC;AAACV,kBAAAA,KAAK,EAAE,YAAR;AAAsBW,kBAAAA,IAAI,EAAE,CAA5B;AAA+BC,kBAAAA,IAAI,EAAC;AAApC;AAHQ,eAAD,CAAZ,CAIHC,IAJG,CAIE,UAAAC,QAAQ,EAAI;AAChBC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACH,eANK,EAMHG,KANG,CAMG,UAAAC,KAAK,EAAI;AACd,oBAAGA,KAAK,CAACC,OAAN,CAAcC,QAAd,CAAuB,KAAvB,CAAH,EAAiC;AAC7B,kBAAA,KAAI,CAACC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACH;AACJ,eAVK,CAFV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KArBa;AAAA;AAAA;;AAoCb,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMrB,IAAI,CAACF,KAAX,CADJ;AAIH;;AACD,eAAeF,KAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\r\n\r\nimport { axiosService } from '../../service/axios';\r\n\r\nfunction Admin() {\r\n\r\n\r\n    const [user, setUser] = useState({\r\n        idUser:'', email:'', token:''\r\n    });\r\n\r\n    useEffect(() => {\r\n        findUser();\r\n    }, [])\r\n\r\n    function findUser() {\r\n        let user = {\r\n            idUser: localStorage.getItem('idUser'),\r\n            email: localStorage.getItem('email'),\r\n            token: localStorage.getItem('token')\r\n        }\r\n        setUser({user});\r\n        findStationToUser(user);\r\n    }\r\n\r\n    async function findStationToUser(user) {\r\n        debugger;\r\n        await axiosService({\r\n            method: 'GET',\r\n            url:'/stations/find',\r\n            params:{email: 'user.email', page: 0, size:1}\r\n        }).then(response => {\r\n            console.log(response)\r\n        }).catch(error => {\r\n            if(error.message.includes('404')){\r\n                this.props.history.push('/cadastrar')\r\n            }\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div>{user.email}</div>\r\n    )\r\n\r\n}\r\nexport default Admin;"]},"metadata":{},"sourceType":"module"}