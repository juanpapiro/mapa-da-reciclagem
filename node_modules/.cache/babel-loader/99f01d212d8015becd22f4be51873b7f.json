{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\juanpapiro\\\\Documents\\\\wspaceweb\\\\mapa-da-reciclagem\\\\src\\\\pages\\\\Admin\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './admin.css';\nimport '../../style.css';\nimport { axiosService } from '../../service/axios';\nimport { existParam } from '../../utils/ValidInfo';\nimport MessageLine from '../../components/MessageLine';\n\nfunction Admin(props) {\n  var _this = this;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      stationNotFound = _useState2[0],\n      setStationNotFound = _useState2[1];\n\n  var _useState3 = useState({\n    idUser: '',\n    email: '',\n    token: ''\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      user = _useState4[0],\n      setUser = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      stationsFormat = _useState6[0],\n      setStationsFormat = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      message = _useState8[0],\n      setMessage = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      typeMessage = _useState10[0],\n      setTypeMessage = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      load = _useState12[0],\n      setLoad = _useState12[1];\n\n  useEffect(function () {\n    debugger;\n    findUser();\n  }, []);\n\n  function findUser() {\n    var user = {\n      idUser: localStorage.getItem('idUser'),\n      email: localStorage.getItem('email'),\n      token: localStorage.getItem('token')\n    };\n    setUser({\n      user: user\n    });\n    findStationToUser(user);\n  }\n\n  function findStationToUser(_x) {\n    return _findStationToUser.apply(this, arguments);\n  }\n\n  function _findStationToUser() {\n    _findStationToUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(user) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axiosService({\n                method: 'GET',\n                url: '/stations/findAdmin',\n                headers: {\n                  authorization: user.token\n                },\n                params: {\n                  email: user.email,\n                  page: 0,\n                  size: 0\n                }\n              }).then(function (response) {\n                console.log(response);\n                debugger;\n\n                if (response.status === 204 || response.status === '204') {\n                  setStationNotFound(true);\n                } else {\n                  var _stationsFormat = [];\n                  response.data.response.forEach(function (station) {\n                    var products = station.mktProducts;\n                    var phones = formatPhones(station);\n                    var emails = formatEmails(station);\n                    var webContacts = formatWebContacts(station);\n                    var stationFormat = {\n                      station: station,\n                      phones: phones,\n                      emails: emails,\n                      webContacts: webContacts,\n                      products: products\n                    };\n\n                    _stationsFormat.push(stationFormat);\n                  });\n                  setStationsFormat(_stationsFormat);\n                  setStationNotFound(false);\n                  setLoad(true);\n                }\n              }).catch(function (error) {\n                setMessage('Falha ao consultar informações do posto de coleta.');\n                setTypeMessage('error');\n                setLoad(false);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _findStationToUser.apply(this, arguments);\n  }\n\n  function messageRegister() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"stationNotFound\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"txtStationNotFound\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, \"Legal, agora voc\\xEA j\\xE1 tem um usu\\xE1rio de administrador, que te permite cadastrar um ou mais postos de coleta e divulgar a localiza\\xE7\\xE3o e valores ofertados pelos diveros materiais, deseja cadastrar agora?\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"btnsContainerNotFound\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/cadastrar\",\n      id: \"btnGenericYes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 62\n      }\n    }, \"Sim\")), /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      id: \"btnGenericNot\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 53\n      }\n    }, \"N\\xE3o\"))));\n  }\n\n  function formatPhones(station) {\n    var phones = [];\n    existParam(station.phone) && phones.push(station.phone);\n    existParam(station.phoneAdd) && phones.push(station.phoneAdd);\n    existParam(station.cellPhone) && phones.push(station.cellPhone);\n    existParam(station.cellPhoneAdd) && phones.push(station.cellPhoneAdd);\n    return phones;\n  }\n\n  function formatEmails(station) {\n    var emails = [];\n    existParam(station.email) && emails.push(station.email);\n    existParam(station.emailAdd) && emails.push(station.emailAdd);\n    return emails;\n  }\n\n  function formatWebContacts(station) {\n    var webContacts = [];\n    existParam(station.site) && webContacts.push(station.site);\n    existParam(station.facebook) && webContacts.push(station.facebook);\n    existParam(station.otherUrl) && webContacts.push(station.otherUrl);\n    return webContacts;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"containerPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"titlePage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, \"Administrar posto(s) de coleta\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"containerResultFind\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, stationNotFound === true && messageRegister()), load === false ? /*#__PURE__*/React.createElement(MessageLine, {\n    message: message,\n    typeMessage: typeMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    id: \"containerResultFind\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: require('../../assets/incons/icon-add.svg'),\n    alt: \"adicionar posto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 30\n    }\n  })), stationsFormat.map(function (station) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"stationAdmin\",\n      key: station.station.idStation,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"containerBtnGoBackStationAdmin\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/editarposto/\".concat(station.station.idStation),\n      id: \"btnStationEdit\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 112\n      }\n    }, \"editar cadastro\"))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"titleNameStation\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 64\n      }\n    }, station.station.nmFantazy)), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"lineMiddle\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"detailInfo\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      id: \"subtitleInfo\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 41\n      }\n    }, \"Endere\\xE7o:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 85\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 41\n      }\n    }, station.station.street, \", \", station.station.number, \" \", station.station.complement), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 135\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 41\n      }\n    }, station.station.neighborhood, \" - \", station.station.city, \" - \", station.station.state, \"/\", station.station.uf, \" - \", station.station.zip), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 182\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"detailInfo\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 41\n      }\n    }, \"Contatos:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 67\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 41\n      }\n    }, \"Telefone: \"), station.phones.size !== 0 && station.phones.map(function (phone, index) {\n      return /*#__PURE__*/React.createElement(\"label\", {\n        key: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 52\n        }\n      }, phone, \" \");\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 46\n      }\n    }, \"E-mail: \"), station.emails.size !== 0 && station.emails.map(function (email, index) {\n      return /*#__PURE__*/React.createElement(\"label\", {\n        key: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 52\n        }\n      }, email, \" \");\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 46\n      }\n    }, \"Website e redes sociais: \"), station.webContacts.size !== 0 && station.webContacts.map(function (web, index) {\n      return /*#__PURE__*/React.createElement(\"label\", {\n        key: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 52\n        }\n      }, web, \" \");\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"lineMiddle\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"containerBtnGoBackStationAdmin\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/editarprodutos/\".concat(station.station.idStation),\n      id: \"btnStationEdit\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 119\n      }\n    }, \"Incluir ou editar\"))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"titleProductStation\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 67\n      }\n    }, \"Produtos\")));\n  }))));\n}\n\nexport default Admin;","map":{"version":3,"sources":["C:/Users/juanpapiro/Documents/wspaceweb/mapa-da-reciclagem/src/pages/Admin/index.js"],"names":["React","useEffect","useState","Link","axiosService","existParam","MessageLine","Admin","props","stationNotFound","setStationNotFound","idUser","email","token","user","setUser","stationsFormat","setStationsFormat","message","setMessage","typeMessage","setTypeMessage","load","setLoad","findUser","localStorage","getItem","findStationToUser","method","url","headers","authorization","params","page","size","then","response","console","log","status","data","forEach","station","products","mktProducts","phones","formatPhones","emails","formatEmails","webContacts","formatWebContacts","stationFormat","push","catch","error","messageRegister","phone","phoneAdd","cellPhone","cellPhoneAdd","emailAdd","site","facebook","otherUrl","require","map","idStation","nmFantazy","street","number","complement","neighborhood","city","state","uf","zip","index","web"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './admin.css';\r\nimport '../../style.css';\r\nimport { axiosService } from '../../service/axios';\r\nimport { existParam } from '../../utils/ValidInfo';\r\nimport MessageLine from '../../components/MessageLine';\r\n\r\nfunction Admin(props) {\r\n\r\n    const [stationNotFound, setStationNotFound] = useState();\r\n    const [user, setUser] = useState({idUser:'', email:'', token:''});\r\n    const [stationsFormat, setStationsFormat] = useState([]);\r\n    const [message, setMessage] = useState();\r\n    const [typeMessage, setTypeMessage] = useState();\r\n    const [load, setLoad] = useState();\r\n\r\n\r\n    useEffect(() => {\r\n        debugger;\r\n        findUser();\r\n    }, [])\r\n\r\n\r\n    function findUser() {\r\n        let user = {\r\n            idUser: localStorage.getItem('idUser'),\r\n            email: localStorage.getItem('email'),\r\n            token: localStorage.getItem('token')\r\n        }\r\n        setUser({user});\r\n        findStationToUser(user);\r\n    }\r\n\r\n    async function findStationToUser(user) {\r\n        await axiosService({\r\n            method: 'GET',\r\n            url:'/stations/findAdmin',\r\n            headers:{authorization: user.token},\r\n            params:{email: user.email, page: 0, size:0}\r\n        }).then(response => {\r\n            console.log(response)\r\n            debugger\r\n            if(response.status === 204 || response.status === '204'){\r\n                setStationNotFound(true);\r\n            } else {\r\n                let stationsFormat = [];\r\n                response.data.response.forEach(station => {\r\n                    let products = station.mktProducts;\r\n                    let phones = formatPhones(station);\r\n                    let emails = formatEmails(station);\r\n                    let webContacts = formatWebContacts(station);\r\n                    let stationFormat = {station, phones, emails, webContacts, products}\r\n                    stationsFormat.push(stationFormat);\r\n                });\r\n                setStationsFormat(stationsFormat);\r\n                setStationNotFound(false);\r\n                setLoad(true);\r\n            }\r\n        }).catch(error => {   \r\n            setMessage('Falha ao consultar informações do posto de coleta.');\r\n            setTypeMessage('error')   \r\n            setLoad(false)      \r\n        })\r\n    }\r\n\r\n    function messageRegister() {\r\n        return(\r\n            <div id='stationNotFound'>\r\n                <div id='txtStationNotFound'>Legal, agora você já tem um usuário de administrador,\r\n                que te permite cadastrar um ou mais postos de coleta e divulgar a localização e\r\n                valores ofertados pelos diveros materiais, deseja cadastrar agora?</div>\r\n                <div id='btnsContainerNotFound'>\r\n                    <Link to='/cadastrar' id='btnGenericYes'><div>Sim</div></Link>\r\n                    <Link to='/' id='btnGenericNot'><div>Não</div></Link>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n    function formatPhones(station) {\r\n        let phones = [];\r\n        existParam(station.phone) && phones.push(station.phone);  \r\n        existParam(station.phoneAdd) && phones.push(station.phoneAdd);\r\n        existParam(station.cellPhone) && phones.push(station.cellPhone);\r\n        existParam(station.cellPhoneAdd) && phones.push(station.cellPhoneAdd);\r\n        return phones;\r\n    }\r\n\r\n    function formatEmails(station) {\r\n        let emails = [];        \r\n        existParam(station.email) && emails.push(station.email);   \r\n        existParam(station.emailAdd) && emails.push(station.emailAdd);\r\n        return emails;\r\n    }\r\n\r\n    function formatWebContacts(station) {\r\n        let webContacts = [];   \r\n        existParam(station.site) && webContacts.push(station.site);    \r\n        existParam(station.facebook) && webContacts.push(station.facebook);\r\n        existParam(station.otherUrl) && webContacts.push(station.otherUrl);\r\n        return webContacts;\r\n    }\r\n\r\n\r\n\r\n    return(\r\n        <div id='containerPage'>   \r\n               \r\n            <div id='titlePage'>Administrar posto(s) de coleta</div>\r\n            <div id='containerResultFind'>\r\n                <div>{stationNotFound === true && messageRegister()}</div>\r\n                {load === false ?\r\n                    <MessageLine message={message} typeMessage={typeMessage} /> :\r\n                    <div id='containerResultFind'>\r\n                        <div><img src={require('../../assets/incons/icon-add.svg')} alt='adicionar posto' /></div>\r\n                        {stationsFormat.map((station) => {\r\n                              return(\r\n                                <div id='stationAdmin' key={station.station.idStation}>\r\n                                    <div id='containerBtnGoBackStationAdmin'>\r\n                                    <Link to={`/editarposto/${station.station.idStation}`} id='btnStationEdit'><div>editar cadastro</div></Link>\r\n                                    </div>\r\n                                    <div id='titleNameStation'><strong>{station.station.nmFantazy}</strong></div>\r\n                                    <div id='lineMiddle'></div>\r\n                                    <div id='detailInfo'>\r\n                                        <strong id='subtitleInfo'>Endereço:</strong><br/>\r\n                                        <label>{station.station.street}, {station.station.number} {station.station.complement}</label><br/>\r\n                                        <label>{station.station.neighborhood} - {station.station.city} - {station.station.state}/{station.station.uf} - {station.station.zip}</label><br/>\r\n                                    </div>\r\n                                    <div id='detailInfo'>\r\n                                        <strong>Contatos:</strong><br/>\r\n                                        <label>Telefone: </label>\r\n                                        {station.phones.size !== 0 && station.phones.map((phone, index) => {\r\n                                            return(<label key={index}>{phone} </label>)\r\n                                        })}\r\n                                        <br/><label>E-mail: </label>\r\n                                        {station.emails.size !== 0 && station.emails.map((email, index) => {\r\n                                            return(<label key={index}>{email} </label>)\r\n                                        })}      \r\n                                        <br/><label>Website e redes sociais: </label>\r\n                                        {station.webContacts.size !== 0 && station.webContacts.map((web, index) => {\r\n                                            return(<label key={index}>{web} </label>)\r\n                                        })}      \r\n                                    </div>\r\n                                    <div id='lineMiddle'></div>\r\n                                    <div id='containerBtnGoBackStationAdmin'>\r\n                                        <Link to={`/editarprodutos/${station.station.idStation}`} id='btnStationEdit'><div>Incluir ou editar</div></Link>\r\n                                    </div>\r\n                                    <div id='titleProductStation'><strong>Produtos</strong></div>\r\n                                </div>\r\n                            )    \r\n                        })}\r\n                    </div>\r\n                }                \r\n             </div>   \r\n        </div>\r\n    )\r\n\r\n}\r\nexport default Admin;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}